{"version":3,"sources":["../src/app.js"],"names":["graphqlHTTP","require","schema","Person","app","use","skip","process","env","NODE_ENV","express","static","json","graphiql","router","errorHandler"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,WAAW,GAAGC,OAAO,CAAC,iBAAD,CAA3B;;AACA,IAAMC,MAAM,GAAGD,OAAO,CAAC,oBAAD,CAAtB;;eACmBA,OAAO,CAAC,0BAAD,C;IAAlBE,M,YAAAA,M;;AAER,IAAMC,GAAG,GAAG,uBAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,qBAAO,KAAP,EAAc;AAAEC,EAAAA,IAAI,EAAE;AAAA,WAAMC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA/B;AAAA;AAAR,CAAd,CAAR;AACAL,GAAG,CAACC,GAAJ,CAAQK,iBAAQC,MAAR,CAAe,gBAAf,CAAR;AACAP,GAAG,CAACC,GAAJ,CAAQK,iBAAQE,IAAR,EAAR;AAEAR,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoBL,WAAW,CAAC;AAAEE,EAAAA,MAAM,EAANA,MAAF;AAAUW,EAAAA,QAAQ,EAAE;AAApB,CAAD,CAA/B;AAEAT,GAAG,CAACC,GAAJ,CAAQ,MAAR,EAAgBS,kBAAhB;AACAV,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAa,kBAAI,2BAAJ,CAAb;AACAD,GAAG,CAACC,GAAJ,CAAQU,mBAAR;eAEeX,G","sourcesContent":["import express from 'express';\nimport morgan from 'morgan';\nimport router from './resources'\nimport cors from './middleware/cors';\nimport spa from './middleware/spa';\nimport { errorHandler } from './middleware/error';\n\nconst graphqlHTTP = require('express-graphql');\nconst schema = require('./resources/schema');\nconst { Person } = require('./resources/people/model');\n\nconst app = express();\n\napp.use(morgan('dev', { skip: () => process.env.NODE_ENV === 'development' }));\napp.use(express.static('../client/dist'));\napp.use(express.json());\n\napp.use('/graphql', graphqlHTTP({ schema, graphiql: true }));\n\napp.use('/api', router);\napp.use('*', spa('../client/dist/index.html'));\napp.use(errorHandler);\n\nexport default app;\n"],"file":"app.js"}