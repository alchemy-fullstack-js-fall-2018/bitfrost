{"version":3,"sources":["../src/index.js"],"names":["app","use","skip","process","env","NODE_ENV","express","static","json","graphqlHTTP","require","schema","graphiql","errorHandler","PORT","listen","console","log"],"mappings":";;AACA;;AAIA;;AAaA;;AAIA;;AAMA;;AACA;;;;AA7BA;AAEA,IAAMA,GAAG,GAAG,uBAAZ,C,CAEA;;AAEAA,GAAG,CAACC,GAAJ,CAAQ,qBAAO,KAAP,EAAc;AAAEC,EAAAA,IAAI,EAAE;AAAA,WAAMC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA/B;AAAA;AAAR,CAAd,CAAR,E,CAEA;;AACAL,GAAG,CAACC,GAAJ,CAAQK,iBAAQC,MAAR,CAAe,gBAAf,CAAR;AACAP,GAAG,CAACC,GAAJ,CAAQK,iBAAQE,IAAR,EAAR,E,CAEA;;AACA,IAAMC,WAAW,GAAGC,OAAO,CAAC,iBAAD,CAA3B;;AACA,IAAMC,MAAM,GAAGD,OAAO,CAAC,aAAD,CAAtB;;AACAV,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoBQ,WAAW,CAAC;AAAEE,EAAAA,MAAM,EAANA,MAAF;AAAUC,EAAAA,QAAQ,EAAE;AAApB,CAAD,CAA/B,E,CAEA;;AAEAZ,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAa,kBAAI,2BAAJ,CAAb,E,CAEA;;AAEAD,GAAG,CAACC,GAAJ,CAAQY,mBAAR,E,CAGA;;AAIA;AACA;AAEA,IAAMC,IAAI,GAAGX,OAAO,CAACC,GAAR,CAAYU,IAAZ,IAAoB,IAAjC;AACAd,GAAG,CAACe,MAAJ,CAAWD,IAAX,EAAiB;AAAA,SAAME,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BH,IAA1B,CAAN;AAAA,CAAjB","sourcesContent":["// express\nimport express from 'express';\nconst app = express();\n\n// logging\nimport morgan from 'morgan';\napp.use(morgan('dev', { skip: () => process.env.NODE_ENV === 'development' }));\n\n// basic express stuff\napp.use(express.static('../client/dist'));\napp.use(express.json());\n\n// graph QL stuff\nconst graphqlHTTP = require('express-graphql');\nconst schema = require('./resources');\napp.use('/graphql', graphqlHTTP({ schema, graphiql: true }));\n\n// serve the front end\nimport spa from './middleware/spa';\napp.use('*', spa('../client/dist/index.html'));\n\n// catch errors\nimport { errorHandler } from './middleware/error';\napp.use(errorHandler);\n\n\n// start the server\n\nimport { config } from 'dotenv';\nimport { connect } from './lib/db';\nconfig();\nconnect();\n\nconst PORT = process.env.PORT || 7890;\napp.listen(PORT, () => console.log('Running on', PORT));\n"],"file":"index.js"}